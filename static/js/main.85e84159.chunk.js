(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n(0),s=n.n(c),i=n(26),o=n.n(i),u=(n(53),n(54),n(8)),l=n(7),j=n(21),d=n(9),b=n.n(d),p=n(11),h=n(20),m=n(23),O=n.n(m),x=Object(h.b)("users/fetchItemsByTypeStatus",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://my-basic-ecommerce-site.herokuapp.com/shop/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(h.c)({name:"shop",initialState:{items:[]},reducers:{},extraReducers:(r={},Object(j.a)(r,x.fulfilled,(function(e,t){var n=t.payload;e.items=n})),Object(j.a)(r,x.rejected,(function(e,t){return e})),r)}).reducer;function g(){var e=Object(u.b)();return Object(a.jsxs)("div",{className:"shop-container",children:[Object(a.jsx)(l.a,{variant:"success",onClick:function(){return e(x("clothes"))},children:"Clothes"})," ",Object(a.jsx)(l.a,{variant:"warning",onClick:function(){return e(x("bikes"))},children:"Bikes"})," ",Object(a.jsx)(l.a,{variant:"danger",onClick:function(){return e(x("trainers"))},children:"Trainers"})," "]})}var v,y=n.p+"static/media/cycle.4d7bab90.jpg",w=Object(h.b)("users/userLogin",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/login",{email:r,password:a});case 3:if(c=e.sent,console.log(c.data.name),202!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c.data.name});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(h.b)("users/userRegister",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,c=t.name,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/register",{email:r,password:a,name:c});case 3:if(s=e.sent,console.log(s),201!==s.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(h.b)("users/adminLogin",function(){var e=Object(p.a)(b.a.mark((function e(t,n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/admin-login",{email:r,password:a});case 3:if(c=e.sent,console.log(c),201!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(h.c)({name:"users",initialState:{email:"",password:"",name:"",authenticated:null,registered:null,adminAuthenticated:!1,loginErrors:!1,cart:[]},reducers:{addToCart:function(e,t){e.cart.push(t.payload)},signOut:function(e,t){e.email="",e.password="",e.name="",e.authenticated=!1,e.adminAuthenticated=!1,e.registered=null}},extraReducers:(v={},Object(j.a)(v,w.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.authenticated=!0,e.loginErrors=!1})),Object(j.a)(v,w.rejected,(function(e){e.authenticated=!1,e.loginErrors=!0})),Object(j.a)(v,C.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.registered=!0,e.authenticated=!0})),Object(j.a)(v,C.rejected,(function(e){e.registered=!1})),Object(j.a)(v,k.fulfilled,(function(e,t){e.authenticated=!0,e.adminAuthenticated=!0,e.loginErrors=!1})),Object(j.a)(v,k.rejected,(function(e){e.adminAuthenticated=!1,e.loginErrors=!0})),v)}),S=N.actions,E=S.signOut,L=S.addToCart,I=N.reducer;function P(){var e=Object(u.c)((function(e){return e.shop.items})),t=Object(u.b)(),n=function(){var e=Object(p.a)(b.a.mark((function e(n,r,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(L({id:n,name:r,price:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r=Object(a.jsxs)("div",{className:"landing-page",children:[Object(a.jsx)("h1",{children:" Welcome to the exercise shop, pick a category"}),Object(a.jsx)("img",{src:y,className:"cyclist",alt:"cycle"})]});return e.length>0&&(r=e.map((function(e){return Object(a.jsxs)("div",{className:"flex-item",children:[Object(a.jsx)("h2",{children:e.name}),Object(a.jsxs)("h3",{children:["\xa3",e.price]}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("img",{src:"https://my-basic-ecommerce-site.herokuapp.com/".concat(e.image),alt:""}),Object(a.jsx)(l.a,{style:{display:"block",margin:"10px auto"},variant:"danger",onClick:function(t){return n(e._id,e.name,e.price)},children:"Add item to cart"})," "]},e._id)}))),Object(a.jsxs)(a.Fragment,{children:[r," "]})}function B(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"shop-flex-container",children:Object(a.jsx)(P,{})})]})}var G=n(13),A=n(4),T=n(10);var F=Object(T.f)((function(e){var t=Object(c.useState)(""),n=Object(G.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(G.a)(i,2),j=o[0],d=o[1],h=Object(u.b)(),m=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,h(w({email:r,password:j}));case 3:"users/userLogin/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?d(e.target.value):s(e.target.value)},x=Object(u.c)((function(e){return e.users.loginErrors}));return console.log(x),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Customer sign-in"}),Object(a.jsxs)(A.a,{onSubmit:function(e){m(e)},children:[Object(a.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(A.a.Label,{children:"Email address"}),Object(a.jsx)(A.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(A.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(A.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(A.a.Label,{children:"Password"}),Object(a.jsx)(A.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),x&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})}));var D=Object(T.f)((function(e){var t=Object(c.useState)(""),n=Object(G.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(G.a)(i,2),j=o[0],d=o[1],h=Object(u.b)(),m=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,h(k({email:r,password:j}));case 3:"users/adminLogin/fulfilled"===t.sent.type&&e.history.push("/admin");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?d(e.target.value):s(e.target.value)},x=Object(u.c)((function(e){return e.users.adminAuthenticated}));return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Administrator sign-in"}),Object(a.jsxs)(A.a,{onSubmit:function(e){m(e)},children:[Object(a.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(A.a.Label,{children:"Email address"}),Object(a.jsx)(A.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(A.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(A.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(A.a.Label,{children:"Password"}),Object(a.jsx)(A.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),!1===x&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})}));var R=Object(T.f)((function(e){var t=Object(c.useState)(""),n=Object(G.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(G.a)(i,2),j=o[0],d=o[1],h=Object(c.useState)(""),m=Object(G.a)(h,2),O=m[0],x=m[1],f=Object(u.b)(),g=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,f(C({email:r,password:j,name:O}));case 3:"users/userRegister/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){"password"===e.target.type&&d(e.target.value),"email"===e.target.type?s(e.target.value):x(e.target.value)};return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Customer sign-up"}),Object(a.jsxs)(A.a,{onSubmit:function(e){g(e)},children:[Object(a.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(A.a.Label,{children:"Email address"}),Object(a.jsx)(A.a.Control,{type:"email",onChange:function(e){return v(e)},placeholder:"Enter email"}),Object(a.jsx)(A.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(A.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(A.a.Label,{children:"Password"}),Object(a.jsx)(A.a.Control,{type:"password",onChange:function(e){return v(e)},placeholder:"Password"})]}),Object(a.jsxs)(A.a.Group,{controlId:"formBasicName",children:[Object(a.jsx)(A.a.Label,{children:"Name"}),Object(a.jsx)(A.a.Control,{type:"name",onChange:function(e){return v(e)},placeholder:"Name"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})})),W=n(46),J=n(33),_=n.n(J);var H=Object(T.f)((function(e){var t=e.history,n=Object(u.c)((function(e){return e.users.authenticated})),r=Object(u.c)((function(e){return e.users.cart})),c=Object(u.c)((function(e){return e.users.name})),s=Object(u.c)((function(e){return e.users.adminAuthenticated})),i=Object(u.b)();return Object(a.jsx)(W.a,{className:"nav-bar",fluid:!0,children:n?Object(a.jsxs)(a.Fragment,{children:[s?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return t.push("/admin")},children:"Create another product"})}):null,Object(a.jsxs)("h3",{children:[" Hello ",c," "]}),Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return i(E()),void t.push("/")},children:"Sign-out"}),Object(a.jsxs)(l.a,{variant:"outline-secondary",style:{position:"relative"},onClick:function(){return t.push("/cart")},children:[Object(a.jsx)(_.a,{style:{height:"30px"}}),Object(a.jsx)("p",{style:{color:"red",display:"inline",position:"absolute",left:"+5px",top:"8px"},children:r.length}),"Cart"]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return t.push("/admin-sign-in")},children:"Admin sign-in"}),Object(a.jsx)(l.a,{variant:"outline-primary",onClick:function(){return t.push("/login")},children:"Customer sign-in"}),Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return t.push("/register")},children:"Register"}),Object(a.jsxs)(l.a,{variant:"outline-secondary",style:{position:"relative"},onClick:function(){return t.push("/cart")},children:[Object(a.jsx)(_.a,{style:{height:"30px"}}),Object(a.jsx)("p",{style:{color:"red",display:"inline",position:"absolute",left:"+5px",top:"8px"},children:r.length}),"Cart"]})]})})})),K=Object(T.f)((function(e){var t=e.history,n=Object(c.useState)(""),r=Object(G.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),j=Object(G.a)(o,2),d=j[0],h=j[1],m=Object(c.useState)(""),f=Object(G.a)(m,2),g=f[0],v=f[1],y=Object(c.useState)(""),w=Object(G.a)(y,2),C=w[0],k=w[1],N=Object(c.useState)(""),S=Object(G.a)(N,2),E=S[0],L=S[1],I=Object(u.b)(),P=function(){var e=Object(p.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("category",s),n.append("productImage",E),n.append("name",d),n.append("description",C),n.append("price",g),r={headers:{"content-type":"multipart/form-data"}},e.next=9,O.a.post("http://localhost:5000/shop/create",n,r);case 9:201===e.sent.status&&(t.push("/"),I(x(s)));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){switch(e.target.getAttribute("id")){case"category":return i(e.target.value);case"name":return h(e.target.value);case"price":return v(e.target.value);case"description":return k(e.target.value);case"image":return L(e.target.files[0]);default:return}};return Object(a.jsxs)("div",{className:"admin-form-container",children:[Object(a.jsx)("h3",{children:"Please create the product below to add it to the website and database"}),Object(a.jsxs)(A.a,{children:[Object(a.jsxs)(A.a.Group,{controlId:"category",onChange:function(e){return B(e)},children:[Object(a.jsx)(A.a.Label,{children:"Product category"}),Object(a.jsxs)(A.a.Control,{as:"select",defaultValue:"Choose...",children:[Object(a.jsx)("option",{children:"Choose a product category "}),Object(a.jsx)("option",{value:"bikes",children:"Bike"}),Object(a.jsx)("option",{value:"trainers",children:"Trainers"}),Object(a.jsx)("option",{value:"clothes",children:"Clothes"})]})]}),Object(a.jsxs)(A.a.Group,{controlId:"name",onChange:function(e){return B(e)},children:[Object(a.jsx)(A.a.Label,{children:"Name"}),Object(a.jsx)(A.a.Control,{type:"name",placeholder:"Enter product name"}),Object(a.jsx)(A.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(A.a.Group,{controlId:"price",onChange:function(e){return B(e)},children:[Object(a.jsx)(A.a.Label,{children:"Price"}),Object(a.jsx)(A.a.Control,{type:"price",placeholder:"enter a price"})]}),Object(a.jsx)(A.a.Group,{controlId:"formBasicCheckbox",children:Object(a.jsxs)(A.a.Group,{controlId:"description",onChange:function(e){return B(e)},children:[Object(a.jsx)(A.a.Label,{children:"Description"}),Object(a.jsx)(A.a.Control,{as:"textarea",rows:3})]})}),Object(a.jsx)(A.a.Group,{controlId:"image",onChange:function(e){return B(e)},children:Object(a.jsx)(A.a.File,{label:"Please upload a product photo"})})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",onClick:function(){return P()},children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return t.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})}));var M=function(e){var t=Object(u.c)((function(e){return e.users.cart})),n=Object(a.jsx)("h3",{children:"Nothing in cart"});return console.log(t),t.length>0&&(n=t.map((function(e){return Object(a.jsxs)("div",{className:"cart-item",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("h5",{children:["Price :\xa3",e.price]})]},e.id)}))),Object(a.jsxs)("div",{className:"cart",children:[Object(a.jsx)("h1",{children:"Cart"}),Object(a.jsx)("div",{className:"cart-flex-container",children:n}),t.length?Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",onClick:function(){return e.history.push("/register")},children:"Buy"}),Object(a.jsx)(l.a,{variant:"danger",onClick:function(){return e.history.push("/")},children:"Keep Shopping"})]}):null]})},V=n(25);var q=function(){var e=Object(u.c)((function(e){return e.users.adminAuthenticated}));return Object(a.jsxs)(V.a,{basename:"/basic-ecommerce-react-frontend",children:[Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(H,{})}),Object(a.jsx)(T.b,{exact:!0,path:"/",component:B}),Object(a.jsx)(T.b,{exact:!0,path:"/login",component:F}),Object(a.jsx)(T.b,{exact:!0,path:"/register",component:R}),Object(a.jsx)(T.b,{exact:!0,path:"/admin-sign-in",component:D}),Object(a.jsx)(T.b,{exact:!0,path:"/admin",children:e?Object(a.jsx)(K,{}):Object(a.jsx)(T.a,{from:"/admin",to:"/"})}),Object(a.jsx)(T.b,{exact:!0,path:"/cart",component:M})]})},z=Object(h.a)({reducer:{users:I,shop:f}});o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(u.a,{store:z,children:Object(a.jsx)(q,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.85e84159.chunk.js.map