(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,n){},67:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n(0),s=n.n(c),i=n(24),o=n.n(i),u=(n(49),n(21)),l=n.n(u),j=(n(67),n(8)),d=n(10),b=n(20),p=n(9),h=n.n(p),m=n(12),O=n(19),f=Object(O.b)("users/fetchItemsByTypeStatus",function(){var e=Object(m.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://my-basic-ecommerce-site.herokuapp.com/shop/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x=Object(O.c)({name:"shop",initialState:{items:[]},reducers:{},extraReducers:(r={},Object(b.a)(r,f.fulfilled,(function(e,t){var n=t.payload;e.items=n})),Object(b.a)(r,f.rejected,(function(e,t){return e})),r)}).reducer;function g(){var e=Object(j.b)();return Object(a.jsxs)("div",{className:"shop-container",children:[Object(a.jsx)(d.a,{variant:"success",onClick:function(){return e(f("clothes"))},children:"Clothes"})," ",Object(a.jsx)(d.a,{variant:"warning",onClick:function(){return e(f("bikes"))},children:"Bikes"})," ",Object(a.jsx)(d.a,{variant:"danger",onClick:function(){return e(f("trainers"))},children:"Trainers"})," "]})}function v(){var e=Object(j.c)((function(e){return e.shop.items})),t=null;return e.length>0&&(console.log(e),t=e.map((function(e){return Object(a.jsxs)("div",{className:"flex-item",children:[Object(a.jsx)("h2",{children:e.name}),Object(a.jsxs)("h3",{children:["\xa3",e.price]}),Object(a.jsx)("img",{src:e.image,alt:""}),Object(a.jsx)("p",{children:e.description})]},e.id)}))),Object(a.jsxs)(a.Fragment,{children:[t," "]})}function y(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"shop-flex-container",children:Object(a.jsx)(v,{})})]})}var w,C=n(11),k=n(4),S=Object(O.b)("users/userLogin",function(){var e=Object(m.a)(h.a.mark((function e(t,n){var r,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,l.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/login",{email:r,password:a});case 3:if(c=e.sent,console.log(c.data.name),202!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c.data.name});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(O.b)("users/userRegister",function(){var e=Object(m.a)(h.a.mark((function e(t,n){var r,a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,c=t.name,e.next=3,l.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/register",{email:r,password:a,name:c});case 3:if(s=e.sent,console.log(s),201!==s.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(O.b)("users/adminLogin",function(){var e=Object(m.a)(h.a.mark((function e(t,n){var r,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,l.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/admin-login",{email:r,password:a});case 3:if(c=e.sent,console.log(c),201!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(O.c)({name:"users",initialState:{email:"",password:"",name:"",authenticated:null,registered:null,adminAuthenticated:!0},reducers:{signOut:function(e,t){console.log("hello"),e.email="",e.password="",e.name="",e.authenticated=!1,e.registered=null}},extraReducers:(w={},Object(b.a)(w,S.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.authenticated=!0})),Object(b.a)(w,S.rejected,(function(e){e.authenticated=!1})),Object(b.a)(w,L.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.registered=!0,e.authenticated=!0})),Object(b.a)(w,L.rejected,(function(e){e.registered=!1})),Object(b.a)(w,N.fulfilled,(function(e,t){e.authenticated=!0,e.adminAuthenticated=!0})),Object(b.a)(w,N.rejected,(function(e){return e})),w)}),G=I.actions.signOut,P=I.reducer,B=n(7);var E=Object(B.f)((function(e){var t=Object(c.useState)(""),n=Object(C.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(C.a)(i,2),u=o[0],l=o[1],b=Object(j.b)(),p=function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b(S({email:r,password:u}));case 3:"users/userLogin/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?l(e.target.value):s(e.target.value)},f=Object(j.c)((function(e){return e.users.authenticated}));return console.log(f),Object(a.jsx)("div",{className:"form",children:Object(a.jsxs)(k.a,{onSubmit:function(e){p(e)},children:[Object(a.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(k.a.Label,{children:"Email address"}),Object(a.jsx)(k.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(k.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(k.a.Label,{children:"Password"}),Object(a.jsx)(k.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),!1===f&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})}));var T=Object(B.f)((function(e){var t=Object(c.useState)(""),n=Object(C.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(C.a)(i,2),u=o[0],l=o[1],b=Object(j.b)(),p=function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b(N({email:r,password:u}));case 3:"users/adminLogin/fulfilled"===t.sent.type&&e.history.push("/admin");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?l(e.target.value):s(e.target.value)},f=Object(j.c)((function(e){return e.users.authenticated}));return console.log(f),Object(a.jsx)("div",{className:"form",children:Object(a.jsxs)(k.a,{onSubmit:function(e){p(e)},children:[Object(a.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(k.a.Label,{children:"Email address"}),Object(a.jsx)(k.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(k.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(k.a.Label,{children:"Password"}),Object(a.jsx)(k.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),!1===f&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})}));var A=Object(B.f)((function(e){var t=Object(c.useState)(""),n=Object(C.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(C.a)(i,2),u=o[0],l=o[1],b=Object(c.useState)(""),p=Object(C.a)(b,2),O=p[0],f=p[1],x=Object(j.b)(),g=function(){var t=Object(m.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,x(L({email:r,password:u,name:O}));case 3:"users/userRegister/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){"password"===e.target.type&&l(e.target.value),"email"===e.target.type?s(e.target.value):f(e.target.value)};return Object(a.jsx)("div",{className:"form",children:Object(a.jsxs)(k.a,{onSubmit:function(e){g(e)},children:[Object(a.jsxs)(k.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(k.a.Label,{children:"Email address"}),Object(a.jsx)(k.a.Control,{type:"email",onChange:function(e){return v(e)},placeholder:"Enter email"}),Object(a.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(k.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(k.a.Label,{children:"Password"}),Object(a.jsx)(k.a.Control,{type:"password",onChange:function(e){return v(e)},placeholder:"Password"})]}),Object(a.jsxs)(k.a.Group,{controlId:"formBasicName",children:[Object(a.jsx)(k.a.Label,{children:"Name"}),Object(a.jsx)(k.a.Control,{type:"name",onChange:function(e){return v(e)},placeholder:"Name"})]}),Object(a.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})})),F=n(43);var D=Object(B.f)((function(e){var t=e.history,n=Object(j.c)((function(e){return e.users.name})),r=Object(j.c)((function(e){return e.users.authenticated})),c=Object(j.b)();return Object(a.jsx)(a.Fragment,{children:r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:["hello ",n]}),Object(a.jsx)(d.a,{variant:"outline-secondary",onClick:function(){return c(G()),void t.push("/")},children:"Sign-out"})]}):Object(a.jsxs)(F.a,{className:"nav-bar",fluid:!0,children:[Object(a.jsx)(d.a,{variant:"outline-secondary",onClick:function(){return t.push("/admin-sign-in")},children:"Admin sign-in"}),Object(a.jsx)(d.a,{variant:"outline-primary",onClick:function(){return t.push("/login")},children:"Customer sign-in"}),Object(a.jsx)(d.a,{variant:"outline-secondary",onClick:function(){return t.push("/register")},children:"Register"})]})})})),R=Object(B.f)((function(e){var t=e.history,n=Object(c.useState)(""),r=Object(C.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),u=Object(C.a)(o,2),b=u[0],p=u[1],O=Object(c.useState)(""),x=Object(C.a)(O,2),g=x[0],v=x[1],y=Object(c.useState)(""),w=Object(C.a)(y,2),S=w[0],L=w[1],N=Object(c.useState)(""),I=Object(C.a)(N,2),G=I[0],P=I[1],B=Object(j.b)(),E=function(){var e=Object(m.a)(h.a.mark((function e(){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("productImage",G),n.append("name",b),n.append("description",S),n.append("price",g),r={headers:{"content-type":"multipart/form-data"}},e.next=8,l.a.post("shop/create",n,r);case 8:201===e.sent.status&&(t.push("/"),B(f(s)));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){switch(e.target.getAttribute("id")){case"category":return i(e.target.value);case"name":return p(e.target.value);case"price":return v(e.target.value);case"description":return L(e.target.value);case"image":return P(e.target.files[0]);default:return}};return Object(a.jsxs)("div",{className:"admin-form-container",children:[Object(a.jsx)("h3",{children:"Please create the product below to add it to the website and database"}),Object(a.jsxs)(k.a,{children:[Object(a.jsxs)(k.a.Group,{controlId:"category",onChange:function(e){return T(e)},children:[Object(a.jsx)(k.a.Label,{children:"Product category"}),Object(a.jsxs)(k.a.Control,{as:"select",defaultValue:"Choose...",children:[Object(a.jsx)("option",{children:"Choose a product category "}),Object(a.jsx)("option",{value:"bikes",children:"Bike"}),Object(a.jsx)("option",{value:"trainers",children:"Trainers"}),Object(a.jsx)("option",{value:"clothes",children:"Clothes"})]})]}),Object(a.jsxs)(k.a.Group,{controlId:"name",onChange:function(e){return T(e)},children:[Object(a.jsx)(k.a.Label,{children:"Name"}),Object(a.jsx)(k.a.Control,{type:"name",placeholder:"Enter product name"}),Object(a.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(k.a.Group,{controlId:"price",onChange:function(e){return T(e)},children:[Object(a.jsx)(k.a.Label,{children:"Price"}),Object(a.jsx)(k.a.Control,{type:"price",placeholder:"enter a price"})]}),Object(a.jsx)(k.a.Group,{controlId:"formBasicCheckbox",children:Object(a.jsxs)(k.a.Group,{controlId:"description",onChange:function(e){return T(e)},children:[Object(a.jsx)(k.a.Label,{children:"Description"}),Object(a.jsx)(k.a.Control,{as:"textarea",rows:3})]})}),Object(a.jsx)(k.a.Group,{controlId:"image",onChange:function(e){return T(e)},children:Object(a.jsx)(k.a.File,{label:"Please upload a product photo"})})]}),Object(a.jsx)(d.a,{onClick:function(){return E()},variant:"primary",type:"submit",children:"Submit"})]})})),W=n(22);var J=function(){Object(c.useEffect)((function(){}),[]);var e=Object(j.c)((function(e){return e.users.adminAuthenticated}));return Object(a.jsxs)(W.a,{basename:"/basic-ecommerce-react-frontend",children:[Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(D,{})}),Object(a.jsx)(B.b,{exact:!0,path:"/",component:y}),Object(a.jsx)(B.b,{exact:!0,path:"/login",component:E}),Object(a.jsx)(B.b,{exact:!0,path:"/register",component:A}),Object(a.jsx)(B.b,{exact:!0,path:"/admin-sign-in",component:T}),Object(a.jsx)(B.b,{exact:!0,path:"/admin",children:e?Object(a.jsx)(R,{}):Object(a.jsx)(B.a,{from:"/admin",to:"/"})})]})},M=Object(O.a)({reducer:{users:P,shop:x}});o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(j.a,{store:M,children:Object(a.jsx)(J,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.d006b728.chunk.js.map