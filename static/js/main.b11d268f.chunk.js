(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n(0),s=n.n(c),i=n(24),o=n.n(i),u=(n(49),n(50),n(8)),l=n(10),j=n(20),d=n(9),b=n.n(d),h=n(12),p=n(19),m=n(21),O=n.n(m),x=Object(p.b)("users/fetchItemsByTypeStatus",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://my-basic-ecommerce-site.herokuapp.com/shop/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(p.c)({name:"shop",initialState:{items:[]},reducers:{},extraReducers:(r={},Object(j.a)(r,x.fulfilled,(function(e,t){var n=t.payload;e.items=n})),Object(j.a)(r,x.rejected,(function(e,t){return e})),r)}).reducer;function g(){var e=Object(u.b)();return Object(a.jsxs)("div",{className:"shop-container",children:[Object(a.jsx)(l.a,{variant:"success",onClick:function(){return e(x("clothes"))},children:"Clothes"})," ",Object(a.jsx)(l.a,{variant:"warning",onClick:function(){return e(x("bikes"))},children:"Bikes"})," ",Object(a.jsx)(l.a,{variant:"danger",onClick:function(){return e(x("trainers"))},children:"Trainers"})," "]})}var v=n.p+"static/media/cycle.4d7bab90.jpg";function y(){var e=Object(u.c)((function(e){return e.shop.items})),t=Object(a.jsxs)("div",{className:"landing-page",children:[Object(a.jsx)("h1",{children:" Welcome to the exercise shop, pick a category"}),Object(a.jsx)("img",{src:v,className:"cyclist",alt:"cycle"})]});return e.length>0&&(t=e.map((function(e){return Object(a.jsxs)("div",{className:"flex-item",children:[Object(a.jsx)("h2",{children:e.name}),Object(a.jsxs)("h3",{children:["\xa3",e.price]}),Object(a.jsx)("img",{src:"https://my-basic-ecommerce-site.herokuapp.com/".concat(e.image),alt:""}),Object(a.jsx)("p",{children:e.description})]},e._id)}))),Object(a.jsxs)(a.Fragment,{children:[t," "]})}function w(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"shop-flex-container",children:Object(a.jsx)(y,{})})]})}var C,k=n(11),S=n(4),N=Object(p.b)("users/userLogin",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/login",{email:r,password:a});case 3:if(c=e.sent,console.log(c.data.name),202!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c.data.name});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(p.b)("users/userRegister",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,c=t.name,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/register",{email:r,password:a,name:c});case 3:if(s=e.sent,console.log(s),201!==s.status){e.next=7;break}return e.abrupt("return",{email:r,password:a,name:c});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(p.b)("users/adminLogin",function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,O.a.post("https://my-basic-ecommerce-site.herokuapp.com/users/admin-login",{email:r,password:a});case 3:if(c=e.sent,console.log(c),201!==c.status){e.next=7;break}return e.abrupt("return",{email:r,password:a});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(p.c)({name:"users",initialState:{email:"",password:"",name:"",authenticated:null,registered:null,adminAuthenticated:!0},reducers:{signOut:function(e,t){console.log("hello"),e.email="",e.password="",e.name="",e.authenticated=!1,e.registered=null}},extraReducers:(C={},Object(j.a)(C,N.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.authenticated=!0})),Object(j.a)(C,N.rejected,(function(e){e.authenticated=!1})),Object(j.a)(C,L.fulfilled,(function(e,t){var n=t.payload,r=n.email,a=n.password,c=n.name;e.email=r,e.password=a,e.name=c,e.registered=!0,e.authenticated=!0})),Object(j.a)(C,L.rejected,(function(e){e.registered=!1})),Object(j.a)(C,I.fulfilled,(function(e,t){e.authenticated=!0,e.adminAuthenticated=!0})),Object(j.a)(C,I.rejected,(function(e){return e})),C)}),P=G.actions.signOut,B=G.reducer,E=n(7);var A=Object(E.f)((function(e){var t=Object(c.useState)(""),n=Object(k.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(k.a)(i,2),j=o[0],d=o[1],p=Object(u.b)(),m=function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,p(N({email:r,password:j}));case 3:"users/userLogin/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?d(e.target.value):s(e.target.value)},x=Object(u.c)((function(e){return e.users.authenticated}));return console.log(x),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Customer sign-in"}),Object(a.jsxs)(S.a,{onSubmit:function(e){m(e)},children:[Object(a.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(S.a.Label,{children:"Email address"}),Object(a.jsx)(S.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(S.a.Label,{children:"Password"}),Object(a.jsx)(S.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),!1===x&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})}));var T=Object(E.f)((function(e){var t=Object(c.useState)(""),n=Object(k.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(k.a)(i,2),j=o[0],d=o[1],p=Object(u.b)(),m=function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,p(I({email:r,password:j}));case 3:"users/adminLogin/fulfilled"===t.sent.type&&e.history.push("/admin");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(e){"password"===e.target.type?d(e.target.value):s(e.target.value)},x=Object(u.c)((function(e){return e.users.authenticated}));return console.log(x),Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Administrator sign-in"}),Object(a.jsxs)(S.a,{onSubmit:function(e){m(e)},children:[Object(a.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(S.a.Label,{children:"Email address"}),Object(a.jsx)(S.a.Control,{type:"email",onChange:function(e){return O(e)},placeholder:"Enter email"}),Object(a.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(S.a.Label,{children:"Password"}),Object(a.jsx)(S.a.Control,{type:"password",onChange:function(e){return O(e)},placeholder:"Password"}),!1===x&&Object(a.jsx)("p",{children:"Log in unsuccessful"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})}));var F=Object(E.f)((function(e){var t=Object(c.useState)(""),n=Object(k.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(k.a)(i,2),j=o[0],d=o[1],p=Object(c.useState)(""),m=Object(k.a)(p,2),O=m[0],x=m[1],f=Object(u.b)(),g=function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,f(L({email:r,password:j,name:O}));case 3:"users/userRegister/fulfilled"===t.sent.type&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){"password"===e.target.type&&d(e.target.value),"email"===e.target.type?s(e.target.value):x(e.target.value)};return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h3",{children:"Customer sign-up"}),Object(a.jsxs)(S.a,{onSubmit:function(e){g(e)},children:[Object(a.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(S.a.Label,{children:"Email address"}),Object(a.jsx)(S.a.Control,{type:"email",onChange:function(e){return v(e)},placeholder:"Enter email"}),Object(a.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(S.a.Label,{children:"Password"}),Object(a.jsx)(S.a.Control,{type:"password",onChange:function(e){return v(e)},placeholder:"Password"})]}),Object(a.jsxs)(S.a.Group,{controlId:"formBasicName",children:[Object(a.jsx)(S.a.Label,{children:"Name"}),Object(a.jsx)(S.a.Control,{type:"name",onChange:function(e){return v(e)},placeholder:"Name"})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return e.history.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})]})})),R=n(43);var W=Object(E.f)((function(e){var t=e.history,n=Object(u.c)((function(e){return e.users.name})),r=Object(u.c)((function(e){return e.users.authenticated})),c=Object(u.b)();return Object(a.jsx)(a.Fragment,{children:r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:["hello ",n]}),Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return c(P()),void t.push("/")},children:"Sign-out"})]}):Object(a.jsxs)(R.a,{className:"nav-bar",fluid:!0,children:[Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return t.push("/admin-sign-in")},children:"Admin sign-in"}),Object(a.jsx)(l.a,{variant:"outline-primary",onClick:function(){return t.push("/login")},children:"Customer sign-in"}),Object(a.jsx)(l.a,{variant:"outline-secondary",onClick:function(){return t.push("/register")},children:"Register"})]})})})),D=Object(E.f)((function(e){var t=e.history,n=Object(c.useState)(""),r=Object(k.a)(n,2),s=(r[0],r[1]),i=Object(c.useState)(""),o=Object(k.a)(i,2),j=(o[0],o[1]),d=Object(c.useState)(""),b=Object(k.a)(d,2),h=(b[0],b[1]),p=Object(c.useState)(""),m=Object(k.a)(p,2),O=(m[0],m[1]),x=Object(c.useState)(""),f=Object(k.a)(x,2),g=(f[0],f[1]),v=(Object(u.b)(),function(e){switch(e.target.getAttribute("id")){case"category":return s(e.target.value);case"name":return j(e.target.value);case"price":return h(e.target.value);case"description":return O(e.target.value);case"image":return g(e.target.files[0]);default:return}});return Object(a.jsxs)("div",{className:"admin-form-container",children:[Object(a.jsx)("h3",{children:"Please create the product below to add it to the website and database"}),Object(a.jsxs)(S.a,{children:[Object(a.jsxs)(S.a.Group,{controlId:"category",onChange:function(e){return v(e)},children:[Object(a.jsx)(S.a.Label,{children:"Product category"}),Object(a.jsxs)(S.a.Control,{as:"select",defaultValue:"Choose...",children:[Object(a.jsx)("option",{children:"Choose a product category "}),Object(a.jsx)("option",{value:"bikes",children:"Bike"}),Object(a.jsx)("option",{value:"trainers",children:"Trainers"}),Object(a.jsx)("option",{value:"clothes",children:"Clothes"})]})]}),Object(a.jsxs)(S.a.Group,{controlId:"name",onChange:function(e){return v(e)},children:[Object(a.jsx)(S.a.Label,{children:"Name"}),Object(a.jsx)(S.a.Control,{type:"name",placeholder:"Enter product name"}),Object(a.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(S.a.Group,{controlId:"price",onChange:function(e){return v(e)},children:[Object(a.jsx)(S.a.Label,{children:"Price"}),Object(a.jsx)(S.a.Control,{type:"price",placeholder:"enter a price"})]}),Object(a.jsx)(S.a.Group,{controlId:"formBasicCheckbox",children:Object(a.jsxs)(S.a.Group,{controlId:"description",onChange:function(e){return v(e)},children:[Object(a.jsx)(S.a.Label,{children:"Description"}),Object(a.jsx)(S.a.Control,{as:"textarea",rows:3})]})}),Object(a.jsx)(S.a.Group,{controlId:"image",onChange:function(e){return v(e)},children:Object(a.jsx)(S.a.File,{label:"Please upload a product photo"})})]}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)(l.a,{variant:"primary",type:"submit",children:"Submit"}),Object(a.jsx)(l.a,{onClick:function(){return t.push("/")},variant:"danger",type:"submit",children:"Cancel"})]})]})})),J=n(22);var M=function(){var e=Object(u.c)((function(e){return e.users.adminAuthenticated}));return Object(a.jsxs)(J.a,{basename:"/basic-ecommerce-react-frontend",children:[Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(W,{})}),Object(a.jsx)(E.b,{exact:!0,path:"/",component:w}),Object(a.jsx)(E.b,{exact:!0,path:"/login",component:A}),Object(a.jsx)(E.b,{exact:!0,path:"/register",component:F}),Object(a.jsx)(E.b,{exact:!0,path:"/admin-sign-in",component:T}),Object(a.jsx)(E.b,{exact:!0,path:"/admin",children:e?Object(a.jsx)(D,{}):Object(a.jsx)(E.a,{from:"/admin",to:"/"})})]})},V=Object(p.a)({reducer:{users:B,shop:f}});o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(u.a,{store:V,children:Object(a.jsx)(M,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.b11d268f.chunk.js.map